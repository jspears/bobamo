
csv = require('..');
require('should');

data = [
  {field1: 'val11', field2: 'val12', field3: 'val13'},
  {field1: 'val21', field2: 'val22', field3: 'val23'}
]

test = csv()
.from.array(data, {columns: ['field1', 'field2']})
.to(function(data){
  console.log(data);
});

// test.write({field1:'field', field2:'field'});
test.end();

// test = csv()
// .to.options({columns: ['field1', 'field2']})
// .to(function(data){
//   console.log(data);
// });

// test.write({field1:'field', field2:'field'});
// test.write({field1: 'val11', field2: 'val12', field3: 'val13'});
// test.write({field1: 'val21', field2: 'val22', field3: 'val23'});
// test.end();